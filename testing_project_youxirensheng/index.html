<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>游戏人生 - 家庭生活模拟</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div id="game-container">
        <!-- Top HUD Bar -->
        <header id="top-hud">
            <div class="hud-left">
                <div class="currency-pill">
                    <span class="currency-icon">💵</span>
                    <div class="currency-info">
                        <span id="currency-value">0</span>
                        <span id="income-rate">0/S</span>
                    </div>
                </div>
                <div class="diamond-display">
                    <span class="diamond-icon">💎</span>
                    <span id="diamond-count">0</span>
                </div>
                <button id="btn-add-diamond" class="hud-btn">+</button>
            </div>
            <div class="hud-right">
                <button id="btn-menu" class="hud-btn">···</button>
            </div>
        </header>

        <!-- Sub-Header -->
        <div id="sub-header">
            <div class="sub-header-top">
                <button id="btn-back" class="icon-btn">◀</button>
                <div class="date-display">
                    <button id="btn-pause" class="icon-btn pause-btn">⏸</button>
                    <span id="date-value">2024.01.01</span>
                </div>
                <div class="family-name-area">
                    <span id="family-name">家族</span>
                    <button id="btn-edit-name" class="icon-btn small-btn">✏️</button>
                    <button id="btn-share" class="icon-btn small-btn">📤</button>
                    <button id="btn-stop" class="icon-btn stop-btn">⏹ 终止</button>
                </div>
            </div>
            <div class="member-count">人数: <span id="member-count-value">0/0</span></div>
        </div>

        <!-- Main Game Area -->
        <main id="main-area">
            <!-- Family Tab (default) -->
            <div id="tab-family" class="tab-content active">
                <!-- Background scenery -->
                <div class="bg-scenery"></div>

                <!-- Left Sidebar Activities -->
                <div id="sidebar-left" class="sidebar"></div>

                <!-- Right Sidebar Activities -->
                <div id="sidebar-right" class="sidebar"></div>

                <!-- Family Tree -->
                <div id="family-tree-container">
                    <svg id="tree-lines" class="tree-svg"></svg>
                    <div id="tree-nodes"></div>
                </div>

                <!-- Add Child Button -->
                <div id="add-child-area">
                    <button id="btn-add-child" class="add-child-btn">+ 添加孩子</button>
                </div>

                <!-- Zoom Controls -->
                <div id="zoom-controls">
                    <button id="btn-zoom-out" class="zoom-btn">−</button>
                    <div class="zoom-slider">
                        <span id="zoom-value">100%</span>
                    </div>
                    <button id="btn-zoom-in" class="zoom-btn">+</button>
                </div>
            </div>

            <!-- Placeholder tabs -->
            <div id="tab-inventory" class="tab-content">
                <div class="placeholder-tab"><span>📦</span><p>物品栏</p><p class="coming-soon">即将推出</p></div>
            </div>
            <div id="tab-achievements" class="tab-content">
                <div class="placeholder-tab"><span>⭐</span><p>成就</p><p class="coming-soon">即将推出</p></div>
            </div>
            <div id="tab-help" class="tab-content">
                <div class="placeholder-tab"><span>❓</span><p>帮助</p><p class="coming-soon">即将推出</p></div>
            </div>
            <div id="tab-trophies" class="tab-content">
                <div class="placeholder-tab"><span>🏆</span><p>奖杯</p><p class="coming-soon">即将推出</p></div>
            </div>
        </main>

        <!-- Bottom Navigation Bar -->
        <nav id="bottom-nav">
            <button class="nav-tab" data-tab="inventory">
                <span class="nav-icon">📦</span>
                <span class="nav-label">物品</span>
            </button>
            <button class="nav-tab" data-tab="achievements">
                <span class="nav-icon">⭐</span>
                <span class="nav-label">成就</span>
            </button>
            <button class="nav-tab active" data-tab="family">
                <span class="nav-icon">🏠</span>
                <span class="nav-label">家庭</span>
            </button>
            <button class="nav-tab" data-tab="help">
                <span class="nav-icon">❓</span>
                <span class="nav-label">帮助</span>
            </button>
            <button class="nav-tab" data-tab="trophies">
                <span class="nav-icon">🏆</span>
                <span class="nav-label">奖杯</span>
            </button>
        </nav>

        <!-- Modal Overlay -->
        <div id="modal-overlay" class="modal-overlay hidden">
            <div id="modal-panel" class="modal-panel">
                <button id="modal-close" class="modal-close-btn">✕</button>
                <div id="modal-content"></div>
            </div>
        </div>

        <!-- Name Input Modal -->
        <div id="name-modal" class="modal-overlay hidden">
            <div class="modal-panel name-modal-panel">
                <h2>为你的家族命名</h2>
                <input type="text" id="name-input" placeholder="输入家族名称..." maxlength="10">
                <button id="name-confirm" class="primary-btn">确认</button>
            </div>
        </div>

        <!-- Offline Earnings Modal -->
        <div id="offline-modal" class="modal-overlay hidden">
            <div class="modal-panel offline-modal-panel">
                <h2>离线收益</h2>
                <p id="offline-message"></p>
                <button id="offline-confirm" class="primary-btn">领取</button>
            </div>
        </div>
    </div>

    <!-- Scripts in dependency order -->
    <script src="js/utils.js"></script>
    <script src="js/state.js"></script>
    <script src="js/family.js"></script>
    <script src="js/time.js"></script>
    <script src="js/economy.js"></script>
    <script src="js/activities.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
